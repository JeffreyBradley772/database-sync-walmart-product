generator client {
  provider      = "prisma-client-js"
  output        = "./node_modules/@prisma/client"
  binaryTargets = ["native", "linux-musl-arm64-openssl-3.0.x"]
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model FlossProduct {
  id                  String                @id
  name                String
  brand               String
  shortDescription    String?
  longDescription     String?
  price               Decimal?              @db.Decimal(10, 2)
  msrp                Decimal?              @db.Decimal(10, 2)
  thumbnailImageUrl   String?
  mediumImageUrl      String?
  largeImageUrl       String?
  walmartRating       Decimal?              @db.Decimal(10, 2)
  affiliateUrl        String?
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  productPurchaseLink ProductPurchaseLink[]
}

model ProductPurchaseLink {
  id           String       @id
  productId    String
  retailer     String
  url          String
  price        Decimal?     @db.Decimal(10, 2)
  createdAt    DateTime     @default(now())
  updatedAt    DateTime
  flossProduct FlossProduct @relation(fields: [productId], references: [id], onDelete: Cascade)

  @@index([productId])
}
